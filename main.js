!function(){"use strict";class e{constructor(e,t,s){this._name=t.name,this._link=t.link,this._cardSelector=e,this.handleCardClick=s}_handleLikeButton(){this._cardElement.querySelector(".gallery__like-button").classList.toggle("gallery__like-button_active")}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}getTemplate(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".gallery__card").cloneNode(!0),this._cardElement.querySelector(".gallery__title").textContent=this._name,this._cardElement.querySelector(".gallery__image").src=this._link,this._cardElement.querySelector(".gallery__image").alt=this._name,this._setEventListeners(),this._cardElement}_setEventListeners(){this._cardElement.querySelector(".gallery__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".gallery__delete-button").addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardElement.querySelector(".gallery__image").addEventListener("click",(()=>{this.handleCardClick(this._name,this._link)}))}}var t=class{constructor(e,t){this._formEl=t,this._inputEl=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_setEventListeners(){this._inputEls=Array.from(this._formEl.querySelectorAll(this._inputEl)),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e,t){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e,t)}toggleButtonState(){let e=!1;if(this._inputEls.forEach((t=>{t.validity.valid||(e=!0)})),e)return this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0;this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}enableValidation(){this._setEventListeners(),this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this.toggleButtonState()}))}};class s{constructor(e){this._modal=document.querySelector(e),this._closeButton=this._modal.querySelector(".modal__close-button")}openPopup(){this._modal.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}closePopup(){this._modal.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.closePopup()};setEventListeners(){this._modal.addEventListener("mousedown",(e=>{e.target===this._modal&&this.closePopup()})),this._closeButton.addEventListener("click",(()=>{this.closePopup()}))}}class r extends s{constructor(e,t){super(e),this._handleFormSubmit=t,this._formEl=this._modal.querySelector(".modal__form"),this._inputEls=this._formEl.querySelectorAll(".modal__input")}closePopup(){this._formEl.reset(),super.closePopup()}_getInputValues(){return this._inputValues={},this._inputEls.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}setEventListeners(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.closePopup()})),super.setEventListeners()}}const o={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__error_visible",errorClass:"modal__error"},n=document.querySelector("#profile-edit-button"),i=document.querySelector("#profile-edit-modal"),l=(document.querySelector("#modal-edit-close-button"),document.querySelector(".profile__title")),a=document.querySelector(".profile__description"),u=document.querySelector("#profile-title-input"),c=document.querySelector("#profile-description-input"),d=(document.querySelector("#modal-edit-form"),document.querySelector(".modal__close-button"),document.querySelector("#profile-add-modal")),m=document.querySelector("#profile-add-button");function _(t){return new e("#card-template",t,v).getTemplate()}document.querySelector("#modal-add-form"),document.querySelector("#card-title-input"),document.querySelector("#card-url-input"),document.querySelector("#modal-image-close-button"),document.querySelector(".gallery__cards");const h=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosmite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:e=>{const t=_(e);h.addItem(t)}},".gallery__cards");h.renderItems();const p=new t(o,i);p.enableValidation(),new t(o,d).enableValidation();const E=new class{constructor(e,t){this._userTitle=e,this._userDescription=t}getUserInfo(){return{userTitle:this._userTitle.textContent,userDescription:this._userDescription.textContent}}setUserInfo(e){let{userTitle:t,userDescription:s}=e;this._userTitle.textContent=t,this._userDescription.textContent=s}}(l,a),y=new r("#profile-edit-modal",(e=>{E.setUserInfo({userTitle:e.name,userDescription:e.description})}));y.setEventListeners(),n.addEventListener("click",(()=>{const e=E.getUserInfo();u.value=e.userTitle,c.value=e.userDescription,p.toggleButtonState(),y.openPopup()}));const g=new r("#profile-add-modal",(e=>{const t=_({name:e.title,link:e.link});h.addItem(t)}));m.addEventListener("click",(()=>{g.openPopup()})),g.setEventListeners();const S=new class extends s{constructor(e){super(e),this._modalImage=this._modal.querySelector(".modal__image-preview"),this._modalImageText=this._modal.querySelector(".modal__image-text")}openPopup(e,t){this._modalImage.src=t,this._modalImage.alt=e,this._modalImageText.textContent=e,super.openPopup()}setEventListeners(){super.setEventListeners()}}("#image-modal");function v(e,t){S.openPopup(e,t)}S.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVBbUgsRUFBa0JwRCxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvQ29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGNhcmRTZWxlY3RvciwgY2FyZERhdGEsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImdhbGxlcnlfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdldFRlbXBsYXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pbWFnZVwiKS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuLy8gICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbi8vICAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbi8vICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXHJcbi8vICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4vLyAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4vLyAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXHJcbi8vIH07XHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWwpIHtcclxuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcclxuICAgIHRoaXMuX2lucHV0RWwgPSB2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNldCBFdmVudCBMaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVscyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRFbCkpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU2hvdyBFcnJvciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBIaWRlIEVycm9yIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDaGVjayBWYWxpZGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwsIHZhbGlkYXRpb25Db25maWcpIHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFRvZ2dsZSBTdWJtaXQgQnV0dG9uIEluYWN0aXZlL0FjdGl2ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBsZXQgZm91bmRJbnZhbGlkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIGZvdW5kSW52YWxpZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChmb3VuZEludmFsaWQpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHJldHVybiAodGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5hYmxlL1Jlc2V0IFZhbGlkYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCgpIHtcclxuICAgIHRoaXMuX21vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fbW9kYWwpIHtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKG1vZGFsU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtRWwgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gREFUQSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG59O1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBPUEVOL0NMT1NFIFBPUFVQIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbi8qZnVuY3Rpb24gb3BlblBvcHVwKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZVdpdGhFc2MpO1xyXG59Ki9cclxuXHJcbi8qXHJcbmZ1bmN0aW9uIGNsb3NlUG9wdXAobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlV2l0aEVzYyk7XHJcbn1cclxuKi9cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDTE9TRSBXSVRIIEVTQyBLRVkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4vKlxyXG5mdW5jdGlvbiBjbG9zZVdpdGhFc2MoZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7XHJcbiAgICBjbG9zZVBvcHVwKG9wZW5lZFBvcHVwKTtcclxuICB9XHJcbn1cclxuKi9cclxuXHJcbmV4cG9ydCB7IHZhbGlkYXRpb25Db25maWcgfTtcclxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuZXhwb3J0IGNvbnN0IGNhcmREYXRhID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVkFSSUFCTEVTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUIFBST0ZJTEUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcclxuZXhwb3J0IGNvbnN0IG1vZGFsRWRpdENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNtb2RhbC1lZGl0LWNsb3NlLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtZWRpdC1mb3JtXCIpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQUREIENBUkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWFkZC1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGUtaW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkVXJsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdXJsLWlucHV0XCIpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBSRVZJRVcgQ0FSRCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI21vZGFsLWltYWdlLWNsb3NlLWJ1dHRvblwiXHJcbik7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBHUklEL0NBUkRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBnYWxsZXJ5TGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkc1wiKTtcclxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElNUE9SVFMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gI0NMQVNTRVMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gI1ZBUklBQkxFUyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVVElMUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBEQVRBIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuaW1wb3J0IHsgY2FyZERhdGEgfSBmcm9tIFwiLi4vdXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRURJVCBQUk9GSUxFIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIHByb2ZpbGVFZGl0TW9kYWwsXHJcbiAgY2xvc2VCdXR0b24sXHJcbiAgcHJvZmlsZVRpdGxlLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxufSBmcm9tIFwiLi4vdXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBBREQgQ0FSRCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5pbXBvcnQge1xyXG4gIG1vZGFsQWRkQ2xvc2VCdXR0b24sXHJcbiAgcHJvZmlsZUFkZE1vZGFsLFxyXG4gIHByb2ZpbGVBZGRCdXR0b24sXHJcbiAgcHJvZmlsZUFkZEZvcm0sXHJcbiAgY2FyZFRpdGxlSW5wdXQsXHJcbiAgY2FyZFVybElucHV0LFxyXG59IGZyb20gXCIuLi91dGlscy9Db25zdGFudHMuanNcIjtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQUkVWSUVXIENBUkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmltcG9ydCB7IG1vZGFsSW1hZ2VDbG9zZUJ1dHRvbiB9IGZyb20gXCIuLi91dGlscy9Db25zdGFudHMuanNcIjtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEdSSUQvQ0FSRFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5pbXBvcnQgeyBnYWxsZXJ5TGlzdEVsIH0gZnJvbSBcIi4uL3V0aWxzL0NvbnN0YW50cy5qc1wiO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRlVOQ1RJT05TICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtcykge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcIiNjYXJkLXRlbXBsYXRlXCIsIGl0ZW1zLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZXRUZW1wbGF0ZSgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVEFOVElBVElORyBDTEFTU0VTICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTRUNUSU9OIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IGhvbWVTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGNhcmREYXRhLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtcykgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbXMpO1xyXG4gICAgICBob21lU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5nYWxsZXJ5X19jYXJkc1wiXHJcbik7XHJcblxyXG5ob21lU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRk9STSBWQUxJREFUT1IgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwcm9maWxlRWRpdE1vZGFsXHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYWRkUHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHByb2ZpbGVBZGRNb2RhbFxyXG4pO1xyXG5cclxuYWRkUHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVVNFUiBJTkZPIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuY29uc3QgdXNlclByb2ZpbGUgPSBuZXcgVXNlckluZm8ocHJvZmlsZVRpdGxlLCBwcm9maWxlRGVzY3JpcHRpb24pO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICNNT0RBTFMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUIE1PREFMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oe1xyXG4gICAgICB1c2VyVGl0bGU6IGlucHV0VmFsdWVzLm5hbWUsXHJcbiAgICAgIHVzZXJEZXNjcmlwdGlvbjogaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24sXHJcbiAgICB9KTtcclxuICB9XHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJJbmZvID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHVzZXJJbmZvLnVzZXJUaXRsZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJJbmZvLnVzZXJEZXNjcmlwdGlvbjtcclxuICBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBBREQgTU9EQUwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5jb25zdCBhZGRQcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNwcm9maWxlLWFkZC1tb2RhbFwiLFxyXG4gIChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgY29uc3QgbmV3Q2FyZERhdGEgPSB7IG5hbWU6IGlucHV0VmFsdWVzLnRpdGxlLCBsaW5rOiBpbnB1dFZhbHVlcy5saW5rIH07XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQobmV3Q2FyZERhdGEpO1xyXG4gICAgaG9tZVNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgfVxyXG4pO1xyXG5cclxucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZFByb2ZpbGVNb2RhbC5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG5hZGRQcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSU1BR0UgTU9EQUwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IGltYWdlUHJldmlld01vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcclxuICBpbWFnZVByZXZpZXdNb2RhbC5vcGVuUG9wdXAobmFtZSwgbGluayk7XHJcbn1cclxuXHJcbmltYWdlUHJldmlld01vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlclRpdGxlRWwsIHVzZXJEZXNjcmlwdGlvbkVsKSB7XHJcbiAgICB0aGlzLl91c2VyVGl0bGUgPSB1c2VyVGl0bGVFbDtcclxuICAgIHRoaXMuX3VzZXJEZXNjcmlwdGlvbiA9IHVzZXJEZXNjcmlwdGlvbkVsO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VyVGl0bGVWYWx1ZSA9IHRoaXMuX3VzZXJUaXRsZS50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IHVzZXJEZXNjcmlwdGlvblZhbHVlID0gdGhpcy5fdXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJUaXRsZTogdXNlclRpdGxlVmFsdWUsXHJcbiAgICAgIHVzZXJEZXNjcmlwdGlvbjogdXNlckRlc2NyaXB0aW9uVmFsdWUsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyB1c2VyVGl0bGUsIHVzZXJEZXNjcmlwdGlvbiB9KSB7XHJcbiAgICB0aGlzLl91c2VyVGl0bGUudGV4dENvbnRlbnQgPSB1c2VyVGl0bGU7XHJcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyRGVzY3JpcHRpb247XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIobW9kYWxTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9tb2RhbEltYWdlID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtcHJldmlld1wiKTtcclxuICAgIHRoaXMuX21vZGFsSW1hZ2VUZXh0ID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtdGV4dFwiKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cChuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9tb2RhbEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9tb2RhbEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9tb2RhbEltYWdlVGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImNhcmRTZWxlY3RvciIsImNhcmREYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwicmVtb3ZlIiwiZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybUVsIiwiX2Zvcm1FbCIsIl9pbnB1dEVsIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbnB1dEVscyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiZm9yRWFjaCIsImlucHV0RWwiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZm91bmRJbnZhbGlkIiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJtb2RhbFNlbGVjdG9yIiwiX21vZGFsIiwiX2Nsb3NlQnV0dG9uIiwib3BlblBvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2VQb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImV2ZW50IiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwicmVzZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVBZGRNb2RhbCIsInByb2ZpbGVBZGRCdXR0b24iLCJjcmVhdGVDYXJkIiwiaXRlbXMiLCJob21lU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwidXNlclByb2ZpbGUiLCJ1c2VyVGl0bGVFbCIsInVzZXJEZXNjcmlwdGlvbkVsIiwiX3VzZXJUaXRsZSIsIl91c2VyRGVzY3JpcHRpb24iLCJnZXRVc2VySW5mbyIsInVzZXJUaXRsZSIsInVzZXJEZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGVNb2RhbCIsImlucHV0VmFsdWVzIiwiZGVzY3JpcHRpb24iLCJ1c2VySW5mbyIsImFkZFByb2ZpbGVNb2RhbCIsInRpdGxlIiwiaW1hZ2VQcmV2aWV3TW9kYWwiLCJfbW9kYWxJbWFnZSIsIl9tb2RhbEltYWdlVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=